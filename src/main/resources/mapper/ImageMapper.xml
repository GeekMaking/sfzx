<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.geek.dao.ImageDao">

    <resultMap id="image" type="image">
        <id column="image_id" javaType="Integer" jdbcType="INTEGER" property="imageId"/>
        <result column="image_name" javaType="String" jdbcType="VARCHAR" property="imageName"/>
        <result column="image_address" javaType="String" jdbcType="VARCHAR" property="imageAddress"/>
        <result column="image_type" javaType="String" jdbcType="VARCHAR" property="imageType"/>
        <result column="image_size" javaType="Integer" jdbcType="INTEGER" property="imageSize"/>
        <result column="image_time" javaType="Date" jdbcType="DATE" property="imageTime"/>
    </resultMap>

    <insert id="insertImage" parameterType="image">
        INSERT INTO image(image_name,image_address,image_type,image_size,image_time)
        VALUES (#{imageName},#{imageAddress},#{imageType},#{imageSize},#{imageTime})
    </insert>

    <delete id="deleteImage" parameterType="INTEGER">
        DELETE FROM image WHERE image_id = #{arg0}
    </delete>

    <delete id="deleteImages" parameterType="List">
        DELETE FROM image WHERE image_id IN
        <foreach collection="imageIds" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

    <update id="updateImage" parameterType="image">
        UPDATE image
            image_name = #{imageName},
            image_address = #{imageAddress},
            image_type = #{imageType},
            image_siez = #{imageSize},
            image_time = #{imageTime}
        WHERE image_id = #{imageId}
    </update>

    <select id="selectAllImages" resultMap="image">
        SELECT image_id,image_name,image_address,image_type,image_size,image_time
         FROM image
    </select>
</mapper>